<!DOCTYPE html>
<html>

<head>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css" />
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
  <script src="https://code.angularjs.org/1.4.3/angular.js"></script>
  <link rel="stylesheet" href="style.css" />
  <script src="script.js"></script>
</head>

<body ng-app="app">
  
  <h1 class="text-center">My little todo app!</h1>

  <div id="todo" class="col-xs-6 col-xs-offset-3" ng-controller="MainCtrl">
    
    <!-- Todo Form -->
    <div class="input-group">
      <input type="text" class="form-control" placeholder="Item to add to todo list" ng-model="newItem">
      <span class="input-group-btn">
        <button class="btn btn-default" type="button" ng-click="addItem()">
          Add
          <span class="glyphicon glyphicon-ok" aria-hidden="true"></span>
        </button>
      </span>
    </div>

    <!-- Header above todo list: {{header}} tracks the number of tasks in the list -->
    <h2 class="text-center"> Uncompleted Tasks: <strong>{{header}}</strong> </h2>
    


    <ul class="list-group">
      <li class="list-group-item clearfix" ng-repeat="do in todos">
        
        <!-- Todo Entry -->
        <span ng-hide="hide">{{do}}</span>

        <span ng-show="isComplete(do)" class="glyphicon glyphicon-ok" aria-hidden="true"></span>

         
         
        <!-- Buttons -->
        <div class="btn-group pull-right" role="group" aria-label="...">
          <button type = "button" class="btn btn-success" ng-click="show=!show">
            <span class="glyphicon glyphicon-pencil" aria-hidden="true"></span>
          </button>
          <button type = "button"class="btn btn-danger" ng-click="deleteItem(do)">
            <span class="glyphicon glyphicon-trash" aria-hidden="true"></span>
          </button>
            <button class="btn btn-success" type="button" ng-click="completeItem(do)">
            <span class="glyphicon glyphicon-check" aria-hidden="true"></span>
          </button>


        <!-- Priority button -->
          <button type="button" class="btn btn-default dropdown-toggle" ng-class="changeClass($index)" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
            {{priorityOptions[priorityList[$index]]}} <span class="caret"></span>
          </button>
          <ul class="dropdown-menu">
            <li ng-repeat="ops in priorityOptions" ng-click="updatePriority($parent.$index,$index)">
              <a href="">{{ops}}</a>
            </li>
          </ul>
        </div>
        <!-- Editor -->
        <form ng-submit="show=false" ng-show="show">
          <div class="input-group">
            <input type="text" class="form-control" ng-model="do">
          </div>
        </form>
        
      </li>
    </ul>
  </div>
</body>
</html>